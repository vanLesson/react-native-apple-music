{"version":3,"file":"auth.js","sources":["../../src/modules/auth.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport type { AuthStatus } from '../types/auth-status';\nimport type { ICheckSubscription } from '../types/check-subscription';\n\nconst { MusicModule } = NativeModules;\n\nclass Auth {\n  /**\n   * Requests authorization to access the user's Apple Music account.\n   * This function returns a promise that resolves to the authorization status.\n   * @returns {Promise<AuthStatus>} A promise that resolves to the authorization status of the user's Apple Music account.\n   */\n  public static authorize(): Promise<AuthStatus> {\n    return new Promise((res, rej) => {\n      try {\n        MusicModule.authorization(res);\n      } catch (error) {\n        console.error('Apple Music Kit: Authorize failed.', error);\n\n        rej(error);\n      }\n    });\n  }\n\n  /**\n   * Checks the user's subscription status for Apple Music.\n   * @returns {Promise<ICheckSubscription>} A promise that resolves to the subscription status.\n   */\n  public static async checkSubscription(): Promise<ICheckSubscription> {\n    try {\n      const result: ICheckSubscription = await MusicModule.checkSubscription();\n\n      return result;\n    } catch (error) {\n      console.error('Apple Music Kit: Check subscription failed.', error);\n\n      return {\n        canPlayCatalogContent: false,\n        hasCloudLibraryEnabled: false,\n        isMusicCatalogSubscriptionEligible: false,\n      };\n    }\n  }\n}\n\nexport default Auth;\n"],"names":[],"mappings":";;AAIA,MAAM,EAAE,WAAW,EAAE,GAAG,aAAa,CAAC;AAEtC,MAAM,IAAI,CAAA;AACR;;;;AAIG;AACI,IAAA,OAAO,SAAS,GAAA;QACrB,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,KAAI;AAC9B,YAAA,IAAI;AACF,gBAAA,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;aAChC;YAAC,OAAO,KAAK,EAAE;AACd,gBAAA,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;gBAE3D,GAAG,CAAC,KAAK,CAAC,CAAC;aACZ;AACH,SAAC,CAAC,CAAC;KACJ;AAED;;;AAGG;IACI,aAAa,iBAAiB,GAAA;AACnC,QAAA,IAAI;AACF,YAAA,MAAM,MAAM,GAAuB,MAAM,WAAW,CAAC,iBAAiB,EAAE,CAAC;AAEzE,YAAA,OAAO,MAAM,CAAC;SACf;QAAC,OAAO,KAAK,EAAE;AACd,YAAA,OAAO,CAAC,KAAK,CAAC,6CAA6C,EAAE,KAAK,CAAC,CAAC;YAEpE,OAAO;AACL,gBAAA,qBAAqB,EAAE,KAAK;AAC5B,gBAAA,sBAAsB,EAAE,KAAK;AAC7B,gBAAA,kCAAkC,EAAE,KAAK;aAC1C,CAAC;SACH;KACF;AACF;;;;"}